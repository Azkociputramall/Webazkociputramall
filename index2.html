<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body {
  background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.card {
  border-radius: 15px;
  padding: 30px;
}
.btn-primary {
  background: #ff7e5f;
  border: none;
}
.btn-primary:hover {
  background: #feb47b;
}
</style>
</head>
<body>
<div class="card shadow text-center">
  <!-- Logo -->
  <img src="images.jpeg" alt="Logo" class="img-fluid mb-3" style="max-width:120px;">
  <h3 class="mb-4">Login</h3>
  <form id="loginForm">
    <input type="email" id="email" class="form-control mb-3" placeholder="Email" required>
    <input type="password" id="password" class="form-control mb-3" placeholder="Password" required>
    <button type="submit" class="btn btn-primary w-100 mb-3">Login</button>
  </form>
  <p>Belum punya akun? <a href="register.html" class="text-decoration-none text-warning">Daftar</a></p>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbz0z5wGbOslqb1s-sFJznJV8iHmlFS9Q7lxRosxrFvFsVYCD32Lqy-7kV4dDBBZuvo8/exec"; // ganti dengan Web App URL

document.getElementById("loginForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const res = await fetch(SCRIPT_URL + "?action=login", {
    method: "POST",
    body: JSON.stringify({ email, password }),
  }).then(r => r.json());

  alert(res.message);
  if(res.status) {
    localStorage.setItem("userName", res.nama);
    window.location.href = "welcome.html";
  }
});
</script>
</body>
</html>
